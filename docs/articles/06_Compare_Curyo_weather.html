<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Compare Curyo weather • ChickpeaAscoDispersal</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Compare Curyo weather">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ChickpeaAscoDispersal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/01_Import_raw_data.html">Import raw lesion count data</a>
    </li>
    <li>
      <a href="../articles/02_Import_weather_data.html">Weather Data Import and Cleaning</a>
    </li>
    <li>
      <a href="../articles/03_Visualise_Data.html">Visualise data</a>
    </li>
    <li>
      <a href="../articles/04_lmer.html">Preliminary lmer models</a>
    </li>
    <li>
      <a href="../articles/05_GAM.html">Fit generalised additive models (GAMs) to the data</a>
    </li>
    <li>
      <a href="../articles/06_Compare_Curyo_weather.html">Compare Curyo weather</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="06_Compare_Curyo_weather_files/header-attrs-2.1/header-attrs.js"></script><script src="06_Compare_Curyo_weather_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="06_Compare_Curyo_weather_files/jquery-1.12.4/jquery.min.js"></script><link href="06_Compare_Curyo_weather_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="06_Compare_Curyo_weather_files/leaflet-1.3.1/leaflet.js"></script><link href="06_Compare_Curyo_weather_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="06_Compare_Curyo_weather_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="06_Compare_Curyo_weather_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="06_Compare_Curyo_weather_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="06_Compare_Curyo_weather_files/leaflet-binding-2.0.3/leaflet.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Compare Curyo weather</h1>
                        <h4 class="author">P. Melloy</h4>
            
            <h4 class="date">10/03/2020</h4>
      
      
      <div class="hidden name"><code>06_Compare_Curyo_weather.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"lubridate"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"skimr"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"ggpubr"</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"kableExtra"</span>)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"scales"</span>)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"here"</span>)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"ChickpeaAscoDispersal"</span>)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"stationaRy"</span>)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"bomrang"</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"clifro"</span>)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"leaflet"</span>)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"htmltools"</span>)</span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="kw">theme_set</span>(<span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/theme_pubr.html">theme_pubclean</a></span>(<span class="dt">base_size =</span> <span class="dv">14</span>))</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>events &lt;-</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="st">   </span><span class="kw">read_csv</span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/Deprecated.html">here</a></span>(<span class="st">"inst/data"</span>, <span class="st">"Dispersal experiments dates.csv"</span>)) <span class="op">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="st">`</span><span class="dt">assessment date</span><span class="st">`</span> =<span class="st"> </span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">dmy</a></span>(<span class="st">`</span><span class="dt">assessment date</span><span class="st">`</span>)) <span class="op">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">exposed =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/interval.html">interval</a></span>(<span class="st">`</span><span class="dt">time out</span><span class="st">`</span>, <span class="st">`</span><span class="dt">time removed</span><span class="st">`</span>))</span></code></pre></div>
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>The experimental site Curyo is located approximately 120 km north-east of Horsham Grains Innovation park (Department of Primary Industries Victoria). Trap plants were placed on transects on vectors from 290˚ to 20˚ in a north-north-west direction from the ascochyta infected chickpea crop. A single rainfall event at the Curyo site to trigger conidial dispersal between 2019-10-15 08:00:00 and 2019-10-17 18:00:00. However the onsite weather station recorded the wind direction as coming from the north, blowing towards the south.</p>
<p>Conida were recorded travelling up to 75 meters from the infested stubble north, against the wind during the spread event. The collaborating researcher at VDPI confirmed this weather station did not have wind direction calibrated recently.</p>
<p>This vignette is aimed at comparing the wind direction and wind speed to nearby weather stations.</p>
</div>
<div id="data-import" class="section level2">
<h2 class="hasAnchor">
<a href="#data-import" class="anchor"></a>Data import</h2>
<p>First we will import the weather data from the Curyo which we suspect to have inaccurate wind direction. The data will be formatted and filtered to only contain weather data during when the trap plants were exposed in the field.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>Curyo_w &lt;-</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">   </span><span class="kw">read_csv</span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/Deprecated.html">here</a></span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>      <span class="st">"inst/data"</span>,</span>
<span id="cb3-4"><a href="#cb3-4"></a>      <span class="st">"Curyo SPA 2019 - Buffer 0 - 01-01-2019 to 06-12-2019.csv"</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>   )) <span class="op">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/select.html">select</a></span>(Time,</span>
<span id="cb3-7"><a href="#cb3-7"></a>          <span class="st">'Wind Speed - average (km/h)'</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>          <span class="st">'Wind Direction - average (º)'</span>,</span>
<span id="cb3-9"><a href="#cb3-9"></a>          <span class="st">"Rainfall - (mm)"</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">time =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd_hms.html">dmy_hm</a></span>(Time)) <span class="op">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Location =</span> <span class="st">"Curyo"</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/select.html">select</a></span>(Location, <span class="kw"><a href="https://docs.ropensci.org/skimr/reference/reexports.html">everything</a></span>()) <span class="op">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">ws =</span> <span class="st">`</span><span class="dt">Wind Speed - average (km/h)</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">wd =</span> <span class="st">`</span><span class="dt">Wind Direction - average (º)</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">rainfall =</span> <span class="st">`</span><span class="dt">Rainfall - (mm)</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/filter.html">filter</a></span>(time <span class="op">%within%</span><span class="st"> </span>events[<span class="dv">6</span>, <span class="st">"exposed"</span>])</span></code></pre></div>
<p>The data we download from Bureau of Meteorology (BOM) is in one hour increments, so we will aggregate the 10 minute data to one hourly.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>Curyo_w &lt;-</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="st">   </span>Curyo_w <span class="op">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Day =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/day.html">day</a></span>(time)) <span class="op">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Hour =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/hour.html">hour</a></span>(time)) <span class="op">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">group_by</a></span>(Hour, Day) <span class="op">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="st">   </span><span class="kw">summarise</span>(<span class="dt">ws =</span> <span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(ws),</span>
<span id="cb4-7"><a href="#cb4-7"></a>             <span class="dt">wd =</span> <span class="kw"><a href="../reference/circular.averaging.html">circular.averaging</a></span>(wd)) <span class="op">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Location =</span> <span class="st">"Curyo"</span>) <span class="op">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/arrange.html">arrange</a></span>(Day, Hour) <span class="op">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="st">   </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">time =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(</span>
<span id="cb4-12"><a href="#cb4-12"></a>      <span class="dt">from =</span> events[events<span class="op">$</span>site <span class="op">==</span><span class="st"> "Curyo"</span>, ]<span class="op">$</span><span class="st">`</span><span class="dt">time out</span><span class="st">`</span>,</span>
<span id="cb4-13"><a href="#cb4-13"></a>      <span class="dt">to =</span> events[events<span class="op">$</span>site <span class="op">==</span><span class="st"> "Curyo"</span>, ]<span class="op">$</span><span class="st">`</span><span class="dt">time removed</span><span class="st">`</span>,</span>
<span id="cb4-14"><a href="#cb4-14"></a>      <span class="dt">by =</span> <span class="st">"hour"</span></span>
<span id="cb4-15"><a href="#cb4-15"></a>   )) <span class="op">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/select.html">select</a></span>(Location, time, <span class="kw"><a href="https://docs.ropensci.org/skimr/reference/reexports.html">everything</a></span>())</span></code></pre></div>
<p>Next we will import data from a second weather station at the Curyo field site approximately 10 kilometres from where our trial took place.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>Curyo2_w &lt;-</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">   </span><span class="kw">read_csv</span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/Deprecated.html">here</a></span>(<span class="st">"inst/data"</span>,</span>
<span id="cb5-3"><a href="#cb5-3"></a>                 <span class="st">"DataFarmer_Data_202031081949847.csv"</span>),</span>
<span id="cb5-4"><a href="#cb5-4"></a>            <span class="dt">skip =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">time =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd_hms.html">dmy_hm</a></span>(<span class="st">`</span><span class="dt">Reading Time</span><span class="st">`</span>)) <span class="op">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Location =</span> <span class="st">"Curyo_alt"</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/select.html">select</a></span>(Location, <span class="kw"><a href="https://docs.ropensci.org/skimr/reference/reexports.html">everything</a></span>()) <span class="op">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">ws =</span> <span class="st">`</span><span class="dt">Wind Speed</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">wd =</span> <span class="st">`</span><span class="dt">Wind Direction</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">rh =</span> Humidity) <span class="op">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">temp =</span> Temperature) <span class="op">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/rename.html">rename</a></span>(<span class="dt">rainfall =</span> <span class="st">`</span><span class="dt">Rainfall</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(</span>
<span id="cb5-14"><a href="#cb5-14"></a>      <span class="dt">wd =</span> <span class="kw">case_when</span>(</span>
<span id="cb5-15"><a href="#cb5-15"></a>         wd <span class="op">==</span><span class="st"> "N"</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span>,</span>
<span id="cb5-16"><a href="#cb5-16"></a>         wd <span class="op">==</span><span class="st"> "NNE"</span> <span class="op">~</span><span class="st"> </span><span class="fl">22.5</span>,</span>
<span id="cb5-17"><a href="#cb5-17"></a>         wd <span class="op">==</span><span class="st"> "NE"</span> <span class="op">~</span><span class="st"> </span><span class="dv">45</span>,</span>
<span id="cb5-18"><a href="#cb5-18"></a>         wd <span class="op">==</span><span class="st"> "ENE"</span> <span class="op">~</span><span class="st"> </span><span class="fl">67.5</span>,</span>
<span id="cb5-19"><a href="#cb5-19"></a>         wd <span class="op">==</span><span class="st"> "E"</span> <span class="op">~</span><span class="st"> </span><span class="dv">90</span>,</span>
<span id="cb5-20"><a href="#cb5-20"></a>         wd <span class="op">==</span><span class="st"> "ESE"</span> <span class="op">~</span><span class="st"> </span><span class="fl">112.5</span>,</span>
<span id="cb5-21"><a href="#cb5-21"></a>         wd <span class="op">==</span><span class="st"> "SE"</span> <span class="op">~</span><span class="st"> </span><span class="dv">135</span>,</span>
<span id="cb5-22"><a href="#cb5-22"></a>         wd <span class="op">==</span><span class="st"> "SSE"</span> <span class="op">~</span><span class="st"> </span><span class="fl">157.5</span>,</span>
<span id="cb5-23"><a href="#cb5-23"></a>         wd <span class="op">==</span><span class="st"> "S"</span> <span class="op">~</span><span class="st"> </span><span class="dv">180</span>,</span>
<span id="cb5-24"><a href="#cb5-24"></a>         wd <span class="op">==</span><span class="st"> "SSW"</span> <span class="op">~</span><span class="st"> </span><span class="fl">202.5</span>,</span>
<span id="cb5-25"><a href="#cb5-25"></a>         wd <span class="op">==</span><span class="st"> "SW"</span> <span class="op">~</span><span class="st"> </span><span class="dv">225</span>,</span>
<span id="cb5-26"><a href="#cb5-26"></a>         wd <span class="op">==</span><span class="st"> "WSW"</span> <span class="op">~</span><span class="st"> </span><span class="fl">247.5</span>,</span>
<span id="cb5-27"><a href="#cb5-27"></a>         wd <span class="op">==</span><span class="st"> "W"</span> <span class="op">~</span><span class="st"> </span><span class="dv">270</span>,</span>
<span id="cb5-28"><a href="#cb5-28"></a>         wd <span class="op">==</span><span class="st"> "WNW"</span> <span class="op">~</span><span class="st"> </span><span class="fl">292.5</span>,</span>
<span id="cb5-29"><a href="#cb5-29"></a>         wd <span class="op">==</span><span class="st"> "NW"</span> <span class="op">~</span><span class="st"> </span><span class="dv">315</span>,</span>
<span id="cb5-30"><a href="#cb5-30"></a>         wd <span class="op">==</span><span class="st"> "NNW"</span> <span class="op">~</span><span class="st"> </span><span class="fl">337.5</span></span>
<span id="cb5-31"><a href="#cb5-31"></a>      )</span>
<span id="cb5-32"><a href="#cb5-32"></a>   ) <span class="op">%&gt;%</span></span>
<span id="cb5-33"><a href="#cb5-33"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/filter.html">filter</a></span>(time <span class="op">%within%</span><span class="st"> </span>events[<span class="dv">6</span>, <span class="st">"exposed"</span>])</span></code></pre></div>
<p>The alternate Curyo weather station data also need to be aggregated into one hour increments.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>Curyo_alt &lt;-</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">   </span>Curyo2_w <span class="op">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Day =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/day.html">day</a></span>(time)) <span class="op">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Hour =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/hour.html">hour</a></span>(time)) <span class="op">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">group_by</a></span>(Hour, Day) <span class="op">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="st">   </span><span class="kw">summarise</span>(<span class="dt">ws =</span> <span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(ws),</span>
<span id="cb6-7"><a href="#cb6-7"></a>             <span class="dt">wd =</span> <span class="kw"><a href="../reference/circular.averaging.html">circular.averaging</a></span>(wd)) <span class="op">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Location =</span> <span class="st">"BCG"</span>) <span class="op">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/arrange.html">arrange</a></span>(Day, Hour) <span class="op">%&gt;%</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="st">   </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">time =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(</span>
<span id="cb6-12"><a href="#cb6-12"></a>      <span class="dt">from =</span> events[events<span class="op">$</span>site <span class="op">==</span><span class="st"> "Curyo"</span>, ]<span class="op">$</span><span class="st">`</span><span class="dt">time out</span><span class="st">`</span>,</span>
<span id="cb6-13"><a href="#cb6-13"></a>      <span class="dt">to =</span> events[events<span class="op">$</span>site <span class="op">==</span><span class="st"> "Curyo"</span>, ]<span class="op">$</span><span class="st">`</span><span class="dt">time removed</span><span class="st">`</span>,</span>
<span id="cb6-14"><a href="#cb6-14"></a>      <span class="dt">by =</span> <span class="st">"hour"</span></span>
<span id="cb6-15"><a href="#cb6-15"></a>   )[<span class="dv">1</span><span class="op">:</span><span class="dv">58</span>]) <span class="op">%&gt;%</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/select.html">select</a></span>(Location, time, <span class="kw"><a href="https://docs.ropensci.org/skimr/reference/reexports.html">everything</a></span>())</span>
<span id="cb6-17"><a href="#cb6-17"></a></span>
<span id="cb6-18"><a href="#cb6-18"></a></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="kw"><a href="https://docs.ropensci.org/skimr/reference/skim.html">skim</a></span>(Curyo_alt)</span></code></pre></div>
<table class="table table table-condensed">
<caption>
Data summary
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
Curyo_alt
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
58
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
POSIXct
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
Location
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr></tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Hour
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
11.67
</td>
<td style="text-align:right;">
6.48
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
7.00
</td>
<td style="text-align:right;">
12.00
</td>
<td style="text-align:right;">
16.75
</td>
<td style="text-align:right;">
23.0
</td>
<td style="text-align:left;">
▆▇▇▇▆
</td>
</tr>
<tr>
<td style="text-align:left;">
Day
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
16.03
</td>
<td style="text-align:right;">
0.77
</td>
<td style="text-align:right;">
15.00
</td>
<td style="text-align:right;">
15.00
</td>
<td style="text-align:right;">
16.00
</td>
<td style="text-align:right;">
17.00
</td>
<td style="text-align:right;">
17.0
</td>
<td style="text-align:left;">
▅▁▇▁▆
</td>
</tr>
<tr>
<td style="text-align:left;">
ws
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7.41
</td>
<td style="text-align:right;">
3.67
</td>
<td style="text-align:right;">
0.22
</td>
<td style="text-align:right;">
4.49
</td>
<td style="text-align:right;">
7.75
</td>
<td style="text-align:right;">
10.06
</td>
<td style="text-align:right;">
15.1
</td>
<td style="text-align:left;">
▃▃▇▅▂
</td>
</tr>
<tr>
<td style="text-align:left;">
wd
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
239.14
</td>
<td style="text-align:right;">
32.83
</td>
<td style="text-align:right;">
180.00
</td>
<td style="text-align:right;">
203.95
</td>
<td style="text-align:right;">
242.35
</td>
<td style="text-align:right;">
270.00
</td>
<td style="text-align:right;">
292.5
</td>
<td style="text-align:left;">
▇▂▇▇▅
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: POSIXct</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:left;">
min
</th>
<th style="text-align:left;">
max
</th>
<th style="text-align:left;">
median
</th>
<th style="text-align:right;">
n_unique
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
time
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2019-10-15 08:00:00
</td>
<td style="text-align:left;">
2019-10-17 17:00:00
</td>
<td style="text-align:left;">
2019-10-16 12:30:00
</td>
<td style="text-align:right;">
58
</td>
</tr></tbody>
</table>
<p>We have data from two weather stations in the field, however lets import data from BOM meteorological stations nearby. We can use the bomrang function <code><a href="https://docs.ropensci.org/bomrang/reference/sweep_for_stations.html">sweep_for_stations()</a></code> to find the closest stations to our experimental site. Because bomrang only obtains historical daily weather information we need to use another package, stationaRy, which can retrieve hourly or 10 minute weather data from the same BOM stations. We then use the station name of the BOM stations in the <code><a href="https://rdrr.io/pkg/stationaRy/man/get_station_metadata.html">get_station_metadata()</a></code> from the <a href="https://cran.r-project.org/package=stationaRy">stationaRy</a> package to obtain weather station IDs. We need the ids to inform the function <code><a href="https://rdrr.io/pkg/stationaRy/man/get_met_data.html">get_met_data()</a></code> from which stations we want weather data.</p>
<p>The <code><a href="https://rdrr.io/pkg/stationaRy/man/get_met_data.html">get_met_data()</a></code> function needs to be fun through a loop for each station. We place the weather data from each station into a tibble and store it as an element in a list.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>curyo_latlong &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">35.779312</span>, <span class="fl">142.778332</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>stat.dat &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/stationaRy/man/get_station_metadata.html">get_station_metadata</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/filter.html">filter</a></span>(name <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/sweep_for_stations.html">sweep_for_stations</a></span>(curyo_latlong)<span class="op">$</span>name[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>])</span>
<span id="cb7-5"><a href="#cb7-5"></a></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="cf">for</span> (i <span class="cf">in</span> stat.dat<span class="op">$</span>id) {</span>
<span id="cb7-7"><a href="#cb7-7"></a>   <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span>stat.dat<span class="op">$</span>id[<span class="dv">1</span>]) {</span>
<span id="cb7-8"><a href="#cb7-8"></a>      weather.list &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>()</span>
<span id="cb7-9"><a href="#cb7-9"></a>   }</span>
<span id="cb7-10"><a href="#cb7-10"></a>   <span class="kw"><a href="https://docs.ropensci.org/skimr/reference/print.html">print</a></span>(stat.dat<span class="op">$</span>name[<span class="kw"><a href="https://rdrr.io/r/base/which.html">which</a></span>(stat.dat<span class="op">$</span>id <span class="op">==</span><span class="st"> </span>i)])</span>
<span id="cb7-11"><a href="#cb7-11"></a>   </span>
<span id="cb7-12"><a href="#cb7-12"></a>   weather.list[[i]] &lt;-</span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="st">      </span><span class="kw"><a href="https://rdrr.io/pkg/stationaRy/man/get_met_data.html">get_met_data</a></span>(i, <span class="dt">years =</span> <span class="dv">2019</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="st">      </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/filter.html">filter</a></span>(time <span class="op">%within%</span><span class="st"> </span>events[<span class="dv">6</span>, <span class="st">"exposed"</span>]) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="st">      </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/reexports.html">mutate</a></span>(<span class="dt">Location =</span> stat.dat<span class="op">$</span>name[<span class="kw"><a href="https://rdrr.io/r/base/which.html">which</a></span>(stat.dat<span class="op">$</span>id <span class="op">==</span><span class="st"> </span>i)]) <span class="op">%&gt;%</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="st">      </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/select.html">select</a></span>(Location, <span class="kw"><a href="https://docs.ropensci.org/skimr/reference/reexports.html">everything</a></span>())</span>
<span id="cb7-17"><a href="#cb7-17"></a>}</span></code></pre></div>
<pre><code>## [1] "HOPETOUN AIRPORT"
## [1] "CHARLTON"</code></pre>
<p>Next we bind the data all together in a single tibble called <code>weather.vic</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>weather.vic &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(weather.list, Curyo_w, Curyo_alt)</span></code></pre></div>
</div>
<div id="windroses" class="section level2">
<h2 class="hasAnchor">
<a href="#windroses" class="anchor"></a>Windroses</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw"><a href="https://docs.ropensci.org/skimr/reference/skim.html">skim</a></span>(weather.vic)</span></code></pre></div>
<table class="table table table-condensed">
<caption>
Data summary
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
weather.vic
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
235
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
13
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
POSIXct
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Location
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
id
</td>
<td style="text-align:right;">
117
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
temp
</td>
<td style="text-align:right;">
157
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
15.05
</td>
<td style="text-align:right;">
4.26
</td>
<td style="text-align:right;">
6.50
</td>
<td style="text-align:right;">
12.55
</td>
<td style="text-align:right;">
14.75
</td>
<td style="text-align:right;">
17.90
</td>
<td style="text-align:right;">
24.70
</td>
<td style="text-align:left;">
▃▇▇▅▂
</td>
</tr>
<tr>
<td style="text-align:left;">
wd
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
0.81
</td>
<td style="text-align:right;">
247.52
</td>
<td style="text-align:right;">
92.43
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
210.00
</td>
<td style="text-align:right;">
260.00
</td>
<td style="text-align:right;">
299.84
</td>
<td style="text-align:right;">
360.00
</td>
<td style="text-align:left;">
▂▁▃▇▅
</td>
</tr>
<tr>
<td style="text-align:left;">
ws
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
7.74
</td>
<td style="text-align:right;">
6.26
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
3.60
</td>
<td style="text-align:right;">
6.62
</td>
<td style="text-align:right;">
10.51
</td>
<td style="text-align:right;">
31.15
</td>
<td style="text-align:left;">
▇▆▂▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
atmos_pres
</td>
<td style="text-align:right;">
157
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
1012.29
</td>
<td style="text-align:right;">
1.73
</td>
<td style="text-align:right;">
1008.70
</td>
<td style="text-align:right;">
1011.20
</td>
<td style="text-align:right;">
1012.15
</td>
<td style="text-align:right;">
1013.48
</td>
<td style="text-align:right;">
1016.10
</td>
<td style="text-align:left;">
▃▇▇▆▃
</td>
</tr>
<tr>
<td style="text-align:left;">
dew_point
</td>
<td style="text-align:right;">
157
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
7.28
</td>
<td style="text-align:right;">
3.51
</td>
<td style="text-align:right;">
-2.60
</td>
<td style="text-align:right;">
4.80
</td>
<td style="text-align:right;">
7.25
</td>
<td style="text-align:right;">
9.65
</td>
<td style="text-align:right;">
13.50
</td>
<td style="text-align:left;">
▁▅▇▇▆
</td>
</tr>
<tr>
<td style="text-align:left;">
rh
</td>
<td style="text-align:right;">
157
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
64.22
</td>
<td style="text-align:right;">
22.33
</td>
<td style="text-align:right;">
18.00
</td>
<td style="text-align:right;">
46.70
</td>
<td style="text-align:right;">
65.70
</td>
<td style="text-align:right;">
80.27
</td>
<td style="text-align:right;">
100.00
</td>
<td style="text-align:left;">
▃▇▆▇▇
</td>
</tr>
<tr>
<td style="text-align:left;">
ceil_hgt
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
visibility
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Hour
</td>
<td style="text-align:right;">
118
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
11.73
</td>
<td style="text-align:right;">
6.45
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
7.00
</td>
<td style="text-align:right;">
12.00
</td>
<td style="text-align:right;">
17.00
</td>
<td style="text-align:right;">
23.00
</td>
<td style="text-align:left;">
▆▆▆▇▆
</td>
</tr>
<tr>
<td style="text-align:left;">
Day
</td>
<td style="text-align:right;">
118
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
16.04
</td>
<td style="text-align:right;">
0.77
</td>
<td style="text-align:right;">
15.00
</td>
<td style="text-align:right;">
15.00
</td>
<td style="text-align:right;">
16.00
</td>
<td style="text-align:right;">
17.00
</td>
<td style="text-align:right;">
17.00
</td>
<td style="text-align:left;">
▅▁▇▁▆
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: POSIXct</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:left;">
min
</th>
<th style="text-align:left;">
max
</th>
<th style="text-align:left;">
median
</th>
<th style="text-align:right;">
n_unique
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
time
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2019-10-15 08:00:00
</td>
<td style="text-align:left;">
2019-10-17 18:00:00
</td>
<td style="text-align:left;">
2019-10-16 13:00:00
</td>
<td style="text-align:right;">
59
</td>
</tr></tbody>
</table>
<p>We can visualise the wind speed and direction for each site using windrose.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>pw &lt;-</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/r/base/with.html">with</a></span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>      weather.vic,</span>
<span id="cb11-4"><a href="#cb11-4"></a>      <span class="kw"><a href="https://docs.ropensci.org/clifro/reference/windrose.html">windrose</a></span>(</span>
<span id="cb11-5"><a href="#cb11-5"></a>         ws,</span>
<span id="cb11-6"><a href="#cb11-6"></a>         wd,</span>
<span id="cb11-7"><a href="#cb11-7"></a>         Location,</span>
<span id="cb11-8"><a href="#cb11-8"></a>         <span class="dt">n_col =</span> <span class="dv">4</span>,</span>
<span id="cb11-9"><a href="#cb11-9"></a>         <span class="dt">legend_title =</span> <span class="st">"Wind speed (m/s)"</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>      )</span>
<span id="cb11-11"><a href="#cb11-11"></a>   )</span>
<span id="cb11-12"><a href="#cb11-12"></a>pw <span class="op">+</span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="st">   </span><span class="kw">scale_fill_viridis_d</span>(<span class="dt">name =</span> <span class="st">"Wind Speed (m/s)"</span>, <span class="dt">direction =</span> <span class="dv">-1</span>) <span class="op">+</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="st">   </span><span class="kw">xlab</span>(<span class="st">""</span>) <span class="op">+</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/ggpubr/man/theme_pubr.html">theme_pubclean</a></span>()</span></code></pre></div>
<div class="figure">
<img src="06_Compare_Curyo_weather_files/figure-html/windrose-1.png" alt="Windroses for four weather stations at or near the Curyo site. The windstation on-site is labeled as 'Curyo', the Birchip Cropping Group station which was roughly 10&amp;nbsp;km away is labelled with 'BCG', the remaining two stations are labelled with their respective BOM names, 'CHARLETON' and 'HOPETOUN AIRPORT'." width="700"><p class="caption">
Windroses for four weather stations at or near the Curyo site. The windstation on-site is labeled as ‘Curyo’, the Birchip Cropping Group station which was roughly 10 km away is labelled with ‘BCG’, the remaining two stations are labelled with their respective BOM names, ‘CHARLETON’ and ‘HOPETOUN AIRPORT’.
</p>
</div>
<p>From the windroses, it is apparent that the Curyo weather station is an outlier for direction and possibly windspeed.</p>
</div>
<div id="wind-speed-correlations" class="section level2">
<h2 class="hasAnchor">
<a href="#wind-speed-correlations" class="anchor"></a>Wind speed correlations</h2>
<p>Visually inspect the wind speed data comparing the Curyo site with the Birchip Cropping Group data from 10 kilometres away.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">ggplot</span>(weather.vic, <span class="kw">aes</span>(<span class="dt">x =</span> time, <span class="dt">y =</span> ws)) <span class="op">+</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="st">   </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">shape =</span> Location,</span>
<span id="cb12-3"><a href="#cb12-3"></a>                  <span class="dt">colour =</span> Location),</span>
<span id="cb12-4"><a href="#cb12-4"></a>              <span class="dt">size =</span> <span class="fl">3.5</span>) <span class="op">+</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="st">   </span><span class="kw">scale_colour_viridis_d</span>()</span></code></pre></div>
<p><img src="06_Compare_Curyo_weather_files/figure-html/ws-correlations-1.png" width="700"></p>
<p>They do seem correlated but it is not an exact x-y relationship and the Curyo gusts are higher than others, but that seems reasonable.</p>
</div>
<div id="weather-station-locations" class="section level2">
<h2 class="hasAnchor">
<a href="#weather-station-locations" class="anchor"></a>Weather station locations</h2>
<p>Note the coordinates for the alternate Curyo station are not included.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/sweep_for_stations.html">sweep_for_stations</a></span>(curyo_latlong)[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>] <span class="op">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="st">   </span><span class="kw"><a href="https://docs.ropensci.org/bomrang/reference/select.html">select</a></span>(name, lat, lon) <span class="op">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="st">   </span><span class="kw">bind_rows</span>(<span class="kw">tibble</span>(<span class="dt">name =</span> <span class="st">"CURYO"</span>,</span>
<span id="cb13-4"><a href="#cb13-4"></a>                    <span class="dt">lat =</span> curyo_latlong[<span class="dv">1</span>],</span>
<span id="cb13-5"><a href="#cb13-5"></a>                    <span class="dt">lon =</span> curyo_latlong[<span class="dv">2</span>])) <span class="op">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addTiles</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/leaflet/man/map-methods.html">setView</a></span>(<span class="dt">lat =</span> <span class="dv">-36</span>,</span>
<span id="cb13-9"><a href="#cb13-9"></a>           <span class="dt">lng =</span> <span class="fl">142.7</span>,</span>
<span id="cb13-10"><a href="#cb13-10"></a>           <span class="dt">zoom =</span> <span class="dv">9</span>) <span class="op">%&gt;%</span></span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="st">   </span><span class="kw"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addMarkers</a></span>(<span class="dt">lng =</span> <span class="op">~</span><span class="st"> </span>lon,</span>
<span id="cb13-12"><a href="#cb13-12"></a>              <span class="dt">lat =</span> <span class="op">~</span><span class="st"> </span>lat,</span>
<span id="cb13-13"><a href="#cb13-13"></a>              <span class="dt">popup =</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/htmltools/man/htmlEscape.html">htmlEscape</a></span>(name))</span></code></pre></div>
<div id="htmlwidget-d1219a0a8f422211f7a2" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-d1219a0a8f422211f7a2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-35.7151,-36.2614,-36.3204,-36.2846,-35.779312],[142.3569,142.405,142.4161,143.3341,142.778332],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["HOPETOUN AIRPORT","WARRACKNABEAL MUSEUM","KELLALAC (WARRACKNABEAL AIRPORT)","CHARLTON","CURYO"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[-36,142.7],9,[]],"limits":{"lat":[-36.3204,-35.7151],"lng":[142.3569,143.3341]}},"evals":[],"jsHooks":[]}</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#background">Background</a></li>
      <li><a href="#data-import">Data import</a></li>
      <li><a href="#windroses">Windroses</a></li>
      <li><a href="#wind-speed-correlations">Wind speed correlations</a></li>
      <li><a href="#weather-station-locations">Weather station locations</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Ihsan Khaliq, Paul Melloy, Daniel Burrell, Joshua Fanning, Jean Galloway, Kevin Moore, Adam H. Sparks.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
